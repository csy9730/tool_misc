# Future Promise 并发模型

53 人赞同了该文章

随着并发程序占据越来越多的生产比例，传统的基于线程和任务的开发方式越来越难以表达任务之间的关联关系。为了表达任务之间的状态依赖，常常需要引入某种范围的全局变量，导致程序意外的耦合或者出现难以排查的问题。简化复杂并发程序的开发的需求日渐迫切。在这样的背景下，业界结合学界的成果进行了若干种并发模型的尝试和落地，其中之一就是 Future Promise 模型。

本文首先介绍 Future Promise 模型的基本概念，然后以若干典型的实现讨论其并发模式，最后，结合其他并发模型以及相互的互操作讨论其特点和优劣势。

## Future 的基本概念

通常，Future 和 Promise 两个名词在这个并发模型里是混用的，无论是 Future 还是 Promise 都指代一个用于取得计算结果的代理或者计算结果的容器。从容器的视角看，该容器初始并不包含结果，仅当计算完成时被填充结果；从代理的视角看，仅当计算完成时可以通过该代理获得其结果。

在有些实现中，这两个概念是区分的。这种情况下，Future 往往指的是一个结果的只读占位符，也就是说持有 Future 可以作为结果的占位符组合更多的计算逻辑，但不能对计算结果本身产生影响。Promise 则指的是一个可以单次写的结果的容器。