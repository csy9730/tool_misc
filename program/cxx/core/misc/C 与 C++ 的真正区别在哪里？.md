# C 与 C++ 的真正区别在哪里？

作者：马遥

链接：https://www.zhihu.com/question/28834538/answer/1682988185

来源：知乎

著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

首先，这个问题根本没有简单的答案，选3个角度谈就能写3篇论文。

比如前面的高赞答主，就是每人选了一个角度说，说的都比较到位 ：）



简单说说几个常见的误区。

## **误区1：C++是面向对象的C？并不是。**

现代C++是至少四种编程范式的集合体（面向过程，面向对象，泛型编程和元编程，函数式编程等，实际可能不止4种）。说C++是面向对象语言，是一种很瞧不起C++的说法，因为面向对象仅仅是C++的多种范式之一。

![img](https://pic3.zhimg.com/50/v2-d30d44f2ffc98d02cf5eea68a811febb_720w.jpg?source=1940ef5c)![img](https://pic3.zhimg.com/80/v2-d30d44f2ffc98d02cf5eea68a811febb_720w.jpg?source=1940ef5c)瞧谁不起

就好比有人说你数学学得不错，加减乘除都会，你一定很崩溃。

## **误区2：C是面向过程语言？不能这么说。**

在面向对象方面，C语言提供的语法支持比较薄弱，但这不表示C是面向过程的语言。用C语言写面向对象程序不仅不弱，甚至会有一些优势。

世界上有很多非常重要的、大量使用面向对象技术的软件是用纯C写的。例如Linux的图形界面GNOME。

![img](https://pic3.zhimg.com/50/v2-0975ff62ac2a353367cdf96df2419584_720w.jpg?source=1940ef5c)![img](https://pic3.zhimg.com/80/v2-0975ff62ac2a353367cdf96df2419584_720w.jpg?source=1940ef5c)上图整个图形界面就是基于GNOME实现的

用C写面向对象程序，虽然门槛较高，但也会有一些额外的好处。初学者可参考：[C 语言实现面向对象编程_onlyshi的专栏-CSDN博客_c语言面向对象编程](https://link.zhihu.com/?target=https%3A//blog.csdn.net/onlyshi/article/details/81672279)

## **误区3：C是C++的子集，C支持的语法C++都支持。不对。**

C++在最初设计时是基于C的，绝大多数语法都兼容。但是，在一些细节却重要的地方，二者差别非常大。

例如，C语言的函数指针非常神奇：

```c
int (*pfunc)();
```

看上去pfunc可以指向返回值为int，无参数的函数？并不是。

实际上pfunc可以指向任意返回值为int的函数，无论参数是什么。

而无参的情况必须写明参数为void：

```c
int (*pfunc)(void);
```

C语言不必指定参数类型也可以引用函数，这一点让C语言具有很强的动态特性。而C++去除了这种设计，因为破坏了类型安全。

同理，C语言常用的(void*)转换在C++中也在很大程度上摒弃了，理由也是类型不安全。

哪个设计好哪个不好不重要。重要的是：C并不是C++的子集，C++也不是C的超集。它们在语法、设计理念、常用写法方面均有不同，到今天二者的差别越来越大。

## **误区4：C++比C功能多，所以C++运行比C慢一点。不对。**

虽然C++加入了很多很多功能，但由于绝大多数功能都是在编译器上做手脚，大多情况下仅影响编译速度，而不影响运行速度。

而且泛型、元编程等技术用好了，能让C++的程序运行的更快。

反而是C，由于大量使用不定类型的转换，损失的性能相当可观。



总之，C与C++的区别远不是一段话能够讲清楚。

建议在对C++没有深入了解的时候，慎重讨论C++。毕竟这是一门谁都不敢说精通的语言。