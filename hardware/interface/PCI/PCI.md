# PCI

### ISA


### PCI
PCI是由Intel在1991年推出的一种局部总线，以最初目的而言，它并不是作为ISA的终结者出现的。PCI在结构上可以被视为CPU和原来的ISA之间插入的一级新总线，它拥有全新的操作方式，可以经由桥接电路来协调数据的传送，新加入的管理器能够提供信号缓冲，这让PCI的外设支持数量明显提升，并能在高时钟频率下保持高性能，它为当时的显卡、声卡、网卡、MODEM甚至数据采集卡等等设备提供了连接接口。
### AGP

AGP插槽（Accelerated Graphics Port）是在PCI总线基础上发展起来的，主要针对图形显示方面进行优化，专门用于图形显示卡。AGP标准也经过了几年的发展，从最初的AGP 1.0、AGP2.0 ，发展到现在的AGP 3.0，如果按倍速来区分的话，主要经历了AGP 1X、AGP 2X、AGP 4X、AGP PRO，最高版本就是AGP 3.0，即AGP 8X。AGP 8X的传输速率可达到2.1GB/s，是AGP 4X传输速度的两倍。

#### 发展史

AGP 1.0（AGP1X、AGP2X）
1996年7月AGP 1.0图形标准问世，分为1X和2X两种模式，数据传输带宽分别达到了266MB/s和533MB/s。这种图形接口规范是在66MHz PCI2.1规范基础上经过扩充和加强而形成的，其工作频率为66MHz，工作电压为3.3v，在一段时间内基本满足了显示设备与系统交换数据的需要。这种规范中的AGP带宽很小，现在已经被淘汰了，只有在前几年的老主板上还见得到。
AGP2.0（AGP4X）
显示芯片的飞速发展，图形卡单位时间内所能处理的数据呈几何级数成倍增长，AGP 1.0图形标准越来越难以满足技术的进步了，由此AGP 2.0便应运而生了。1998年5月份，AGP 2.0 规范正式发布，工作频率依然是66MHz，但工作电压降低到了1.5v，并且增加了4x模式，这样它的数据传输带宽达到了1066MB/sec，数据传输能力大大地增强了。
AGP3.0（AGP8X）
2000年8月，Intel推出AGP3.0规范，工作电压降到0.8V，为了防止用户将非0.8V显卡使用在AGP 0.8V插槽上，Intel专门为AGP 3.0插槽和主板增加了电子ID，可以支持1.5V和0.8V信号电压。并增加了8x模式，这样它的数据传输带宽达到了2133MB/sec，数据传输能力相对于AGP 4X成倍增长，能较好的满足当前显示设备的带宽需求。
不同AGP接口的模式传输方式不同。1X模式的AGP，工作频率达到了PCI总线的两倍—66MHz，传输带宽理论上可达到266MB/s。AGP 2X工作频率同样为66MHz，但是它使用了正负沿（一个时钟周期的上升沿和下降沿）触发的工作方式，在这种触发方式中在一个时钟周期的上升沿和下降沿各传送一次数据，从而使得一个工作周期先后被触发两次，使传输带宽达到了加倍的目的，而这种触发信号的工作频率为133MHz，这样AGP 2X的传输带宽就达到了266MB/s×2（触发次数）=533MB/s的高度。AGP 4X仍使用了这种信号触发方式，只是利用两个触发信号在每个时钟周期的下降沿分别引起两次触发，从而达到了在一个时钟周期中触发4次的目的，这样在理论上它就可以达到266MB/s×2（单信号触发次数）×2（信号个数）=1066MB/s的带宽了。在AGP 8X规范中，这种触发模式仍然使用，只是触发信号的工作频率变成266MHz，两个信号触发点也变成了每个时钟周期的上升沿，单信号触发次数为4次，这样它在一个时钟周期所能传输的数据就从AGP4X的4倍变成了8倍，理论传输带宽将可达到266MB/s×4（单信号触发次数）×2（信号个数）=2133MB/s的高度了。

#### 区别方法
AGP和PCI根本上的区别在于AGP是一个“端口”，这意味着它只能接驳一个终端而这个终端又必须是图形加速卡。PCI则是一条总线，它可以连接许多不同种类的终端，可以是显卡，也可以是网卡或者SCSI卡，还有声卡，甚至还有PCI-M.2硬盘拓展卡等等等等。所有这些不同的终端都必须共享这条PCI总线和它的带宽，而AGP则为图形加速卡提供了直接通向芯片组的专线，从那里它又可以通向CPU、系统内存或者PCI总线。
#### 缺陷
但是作为PCI的特殊拓展，AGP从诞生之日起就有许多无法回避的缺陷，它仅支持单一设备连接，无法实现多卡互联扩展，而且其与PCI日渐背离的巨大带宽差异也成了很大的麻烦。所以与PCI长达26年的服役经历形成了鲜明对比，AGP在发展至8x之后便停止了前进，最终带宽也定格在了2133MB/S，并最终被5年后出现的PCI-Express接口所替代。


#### PCI-E
实现大一统的插槽——PCI-E

在AGP/PCI之后，成本高昂的PCI-X并没有成为接班人，主板的PC总线及接口来到了PCI-Express时代。PCI-E以优秀的高速点对点传输形式带来了巨大的带宽提升，其兼容性和扩展灵活性也达到了前所未有的高度。在经过了短暂的更替之后，PCI-E接口便完全取代PCI/AGP并成为了大部分主板的唯一板卡扩展接口。在经历了相当长时间的各种混搭之后，PC的扩展接口在PCI-E时代首次迎来了大一统的格局。

早在2001年的春季，英特尔公司就提出了要用新一代的技术取代PCI总线和多种芯片的内部连接，并称之为第三代I/O总线技术。随后在2001年底，包括Intel、AMD、DELL、IBM在内的20多家业界主导公司开始起草新技术的规范，并在2002年完成，对其正式命名为PCI Express，简称PCI-E。它采用了目前业内流行的点对点串行连接，比起PCI以及更早期的计算机总线的共享并行架构，每个设备都有自己的专用连接，不需要向整个总线请求带宽，而且可以把数据传输率提高到一个很高的频率，达到PCI所不能提供的高带宽。