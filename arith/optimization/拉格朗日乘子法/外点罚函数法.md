# 外点罚函数法

### 等式约束罚函数


$$
min f(x)\\
g(x) = 0
$$
2
$$
min F(x,\sigma) = f(x) + \sigma P(x)
$$

P(x) = 0当且仅当x为问题可行点---可行域/可行点就是满足g(x)约束条件的点或点集
P(x)为连续函数---方便求导求极值
对所有x ∈ Rn, P(x) ≥ 0

原理：当x在可行域内，无惩罚，一般优化方法求最小值；当x不在可行域，加惩罚使F(x,σ)远离最优解；即σ→∞，若原问题有解，则必然会在可行域内，且minf(x)==minF(x,σ)



## 外点罚函数法

等式约束
$$
F(x,\sigma) = f(x) + \sigma \sum{g_i(x)^2}
$$

不等式约束
$$
F(x,\sigma) = f(x) + \sigma \sum{max{x, -g_i(x)}^2}
$$



relu函数  $f(x) = max(0, x) $  是最基础的 P函数





混合约束

## 内点罚函数法

内点罚函数法的基本思想为在目标函数上引入一个关于约束的障碍项，当迭代点由可行域的内部接近可行域的边界时, 障碍项将趋于无穷大来迫使迭代点返回可行域的内部, 从而保持迭代点的严格可行性。进而将求解约束问题转为求解一系列容易的子问题，从而获得原问题的最优逼近解。方法也称为内点障碍函数法。
$$
min f(x)\\
g(x) >= 0
$$


1
$$
B(x) = \sum{\frac{1}{g_i(x)}}
$$
2
$$
B(x) = -\sum{lng_i(x)}
$$
