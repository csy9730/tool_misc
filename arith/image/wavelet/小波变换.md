# wavelet


## base

平移
变频


 连续小波变换：小波函数与原信号对应点相乘，再相加，得到对应点的小波变换系数，平移小波基函数，再计算小波函数与原信号对应点相乘，再相加，这样就得到一系列的小波系数。
 
 对于离散小波变换（由于很多小波函数不是正交函数，因此需要一个尺度函数）所以，原信号函数可以分解成尺度函数和小波函数的线性组合，在这个函数中，尺度函数产生低频部分，小波函数产生高频部分。
### CWT
$$
\int_{-\infin}^{+\infin}{\psi (t)dt}=0
$$
2
$$
\psi_{a,b}(t)=|a|^{-1/2}\psi{\frac{t-b}{a}}
$$
### CWT 2d

### DWT



### FFT 的本质
可以还原表示成矩阵。

该矩阵具有优秀的性质，正交性。频率放缩性质。但是没有时移性质，频率谱丢失了时间信息。

在傅里叶变换中，一系列不同频率的sin、cos等函数称为这个变换的基函数。至于为什么需要既使用sin，又使用cos，这涉及到一点点正交函数的概念。傅里叶变换中的不同频率的sin、cos等函数是正交函数，使用正交函数组成的基函数会带给变换一些方便。
### 正交
我们都知道，向量 a,b 的内积为a\cdot b 。正交的定义为内积为0，即 a\cdot b = 0 。如 a = (1,0) 表示x轴， b = (0,1) 表示y轴，则 a\cdot b = 0 即意味着x轴与y轴正交。

ft可以筛选出最大频率。

时域的表达，可以理解成单位变换，可以筛选出所有时刻的幅值。

根据测不准定理，不能同时得到全部的频率精度和时域精度。ft可以得到全部的频域精度，时域表达可以得到全部的时域精度。使用小波变换可以得到适合的频率精度和时域精度，只是需要用户更多的筛选工作。

对非平稳过程，傅里叶变换有局限性。ft变换可以处理频率不变的情况，对于频率随着时间变化的非平稳信号场景，就乏力了。

傅里叶变换处理非平稳信号有天生缺陷。它只能获取一段信号总体上包含哪些频率的成分，但是对各成分出现的时刻并无所知。因此时域相差很大的两个信号，可能频谱图一样。

然而平稳信号大多是人为制造出来的，自然界的大量信号几乎都是非平稳的，所以在比如生物医学信号分析等领域的论文中，基本看不到单纯傅里叶变换这样naive的方法。

上图所示的是一个正常人的事件相关电位。对于这样的非平稳信号，只知道包含哪些频率成分是不够的，我们还想知道各个成分出现的时间。知道信号频率随时间变化的情况，各个时刻的瞬时频率及其幅值——这也就是时频分析。
### STFT

短时傅里叶变换（Short-time Fourier Transform, STFT）

一个简单可行的方法就是——加窗。我又要套用方沁园同学的描述了，“把整个时域过程分解成无数个等长的小过程，每个小过程近似平稳，再傅里叶变换，就知道在哪个时间点上出现了什么频率了。”这就是短时傅里叶变换。

### 小波包分解

小波包分解（wavelet packet decomposition）也可称为小波包（wavelet packet）或子带树（subband tree）及最佳子带树结构（optimal subband tree structuring）。其概念是用分析树来表示小波包，即利用多次叠代的小波转换分析输入讯号的细节部分。

从函数理论的角度来看，小波包分解是将信号投影到小波包基函数张成的空间中。从信号处理的角度来看，它是让信号通过一系列中心频率不同但带宽相同的滤波器。

### tree 分解

1-> L,H
2 ->LL,HL,H;	L,LH,HH;	LL,HL,LH,HH
3   LLL,HLL,HL H   LL,LHL,HHL,H   LLL,HLL,LHL,HHL,LLH,HLH,LHH,HHH
### 特性
不同的小波在正交性、紧支撑性、平滑性和对称性上表现出不同的特性，往往难以构造一个同时具有4种特性的小波函数。实际应用中只有根据不同信号的处理目的和分解需要，在几种特性之间取折中，选择满足需要的小波来分解。

### 小波
小波”就是小的波形：

所谓“小”是指它具有衰减性，在某个区域之外会速降为零；
而“波”则是指它的波动性，即振幅正负相间的振荡形式。
### 小波 

- Haar小波
- Morlet小波
- Marr小波
- DOG(Difference of Gaussian)小波
- db 
- coiflets
- symlets
- discrete meyer 
- biorthogonal

### 4
定性地讲，当被检测信号的振荡频率与相应尺度的小波函数振荡频率相近时，信号获得了较大系数的小波分解，这就是小波分析可以多尺度提取信号不同频率成分的原因。

熵值越小)，则信号和基之间的差别越小，信号获得的分解越大。

因此，针对不同的瞬态信号需要选择不同的小波，通过比较不同小波分解后熵值的大小，选择使熵值较小的小波以获得较大的分解，达到较好的检测分析效果。

在实际运用中，小波基函数选择可从以下3个方面考虑：

(1)复值与实值小波的选择。复值小波作分析不仅可以得到幅度信息，也可以得到相位信息，所以复值小波适合于分析计算信号的正常特性。而实值小波最好用来做峰值或者不连续性的检测。

(2)连续小波的有效支撑区域的选择。连续小波基函数都在有效支撑区域之外快速衰减。有效支撑区域越长，频率分辨率越好；有效支撑区域越短，时间分辨率越好。

(3)小波形状的选择。如果进行时频分析，则要选择光滑的连续小波，因为时域越光滑的基函数，在频域的局部化特性越好。如果进行信号检测，则应尽量选择与信号波形相近似的小波。

### vocabulary
 Decimated Wavelet Transforms
 
### demo

- 时频分析
	- 时频检测
	- 特征提取
- 去噪
- 压缩
