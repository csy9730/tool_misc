# 误差分析

- 观察误差 在数学模型中往往还有一些根据观测得到的物理量，这些物理量显然也包含误差。这种由观测产生的误差称为观测误差。
- 舍入误差 用计算机进行计算时，由于计算机的字长有限，原始数据在计算机上表示会产生误差，计算过程有可能产生新的误差，这种误差称为舍入误差
- 截断误差
由实际问题建立起来的数学模型，在很多情况下要得到准确解是困难的，通常要用数值方法求它的近似解，例如常把无限的计算过程用有限的计算过程代替，这种模型的准确解和由数值方法求出的近似解之间的误差称为截断误差。因为截断误差是数值计算方法固有的，因此又称方法误差。
- 模型误差
  用计算机解决科学计算问题首先要建立数学模型，它是对被描述的实际问题进行抽象、简化而得到的，因而是近似的。我们把数学模型与实际问题之间出现的这种误差称为模型误差。

绝对误差、相对误差
绝对误差： $e(x)=x-x^*$ ，其中x为精确值， $x^*$ 为 x的近似值， $e(x)$ 的上限记作$\epsilon(x)$ ，称为绝对误差限，工程上常记作$x=x^*+\epsilon$ 。

相对误差： $e_r(x)=e(x)/x$ ，x的相对误差上限定义为$\epsilon_r(x)=\epsilon(x)/x^*$ 。

- 观察误差，由传感器测量得到，
- 舍入误差，计算机的提供的量化精度。一般对应int,float,double
- 四则运算误差， 对应四则运算引入的误差， 加法减法，乘法除法。
- 截断误差, 通过泰勒展开逼近非线性函数，如 sin,cos, log, exp,
- 模型误差 涉及模型和实际的拟合。如状态空间式 ，

### 四则运算的误差估计

##### 相对误差
$$
\epsilon(x_1+x_2)=\epsilon(x_1)+\epsilon(x_2)\\
\epsilon(x_1-x_2)=\epsilon(x_1)+\epsilon(x_2)\\
\epsilon(x_1x_2) = |x_2|\epsilon(x_1)+|x_1|\epsilon(x_2)\\
\epsilon(x_1/x_2)= \epsilon(x_1x_2)/x_2^2
$$

##### 相对误差
$$
\epsilon(x_1+x_2)=\frac{x_1\epsilon_r(x_1)+x_2\epsilon_r(x_2)}{|x_1+x_2|}\\
\epsilon(x_1-x_2)=\frac{x_1\epsilon_r(x_1)+x_2\epsilon_r(x_2)}{|x_1-x_2|}\\
\epsilon(x_1x_2) = \epsilon_r(x_1)+\epsilon_r(x_2)\\
\epsilon(x_1/x_2)= \epsilon_r(x_1)+\epsilon_r(x_2)\\

$$

##### 函数的误差估计
绝对误差：对于 $y=f(x)$，若 x存在误差， $x^*$ 产生的误差经过 f作用后被放大/缩小了$|f^`(x^*)|$ 倍。 $|f^`(x^*)|$为放大因子或绝对条件数。

相对误差： $|e_r(y)|=|\frac{x^*f^`(x^*)}{f(x^*)}||e_r(x)|$ ，其中 $|\frac{x^*f^`(x^*)}{f(x^*)}|$为相对误差条件数。

$$
\epsilon(x^2) = 2|x|\epsilon(x)\\
\epsilon(\sqrt{x}) = \epsilon(x)/(2\sqrt{x})\\
$$


#### 误差的控制
##### 1.6.1 避免大数吃掉小数。
求和时从小到大相加，可使和的误差减小。

##### 1.6.2 避免相近二数相减。

避免小分母。

先化简再计算，减少步骤，避免误差积累。
#### 选用稳定的算法

避免截断误差增大