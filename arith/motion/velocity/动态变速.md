# 动态修改速度规划

## 动态修改
### 动态修改梯形速度规划
无需考虑加速度因素，使用新的梯形规划替代旧的梯形规划即可。

### s型速度动态修改

如何动态修改s型速度规划，使用新计划替代旧计划。

修改s型速度规划计算量巨大，以下根据先易后难提出了三种插入时点：
- 0加速插入，计算量较少
- 0加加速插入，计算量较大
- 任意实时插入，计算量巨大


由于计算量太大，也可以考虑：不能插入，无计算量

#### 0加速插入
只能把插入时间改成加速度为0的时间。
- 加速度段插入，延迟到匀速段T4
- 匀速度段插入，无延迟
- 减速段插入，延迟到运动结束T8。


### 0加加速插入

只能把插入时间改成加加速度为0的时间，即匀加速段T2, 匀速段T4,匀减速段T6。
- 加加速段T1插入，延迟到匀加速段T2
- 加加速段T2插入，延迟到匀速段T4
- 减加速段T3插入，延迟到匀速段T4
- 匀速度段T4插入，无延迟
- 加减速段T5插入，延迟到匀减速段T6或T8
- 匀减速度段T6插入，延迟到匀减速段T6或T8
- 减减速度段T7插入，延迟到运动结束T8。



### 任意插入
支持以下时点的任意插入
- 加加速段T1
- 加加速段T2
- 减加速段T3
- 匀速度段T4
- 加减速段T5
- 匀减速度段T6
- 减减速度段T7。

计算量太大，可能需要迭代求解方程或求解4次，5次方程。