# math: 判断两个向量之间夹角是逆时针或顺时针

DinnerHowe 2018-07-05 10:42:59  8082  收藏 13

假设有两个二维向量 a 、 b，求向量a到向量b的角度是多少？

由向量夹角公式：`cos<a,b>=(a.*b)/norm(a)/norm(b)`;

可得弧度： acos(cos<a,b>)；

此时得到的弧度并没有方向，并不知道是顺时针还算逆时针。

逆时针可以想到向量叉乘的右手法则：

`cross(a,b) = norm(a)*norm(b)*sin<a,b>`

假设屏幕坐标系x向右，y向上，那么叉乘方向朝向本人。

二维向量的叉乘：`cross(a,b) = ax * by - ay * bx = norm(a)* norm(b) * sin<a, b>`

叉乘的结果是正数，说明a到b是逆时针，反之顺时针；

结果若是0，则说明a，b共线。

先用向量夹角公式算出弧度，再用向量叉乘算出顺逆，可以得到 ＋－0～pi之间。

若要直接算出0～2pi的逆时针角度，由：
```
sin<a,b>=cross(a,b)/norm(a)/norm(b)

cos<a,b>=(a.*b)/norm(a)/norm(b)
```
可得：
```
tan<a,b>=cross(a,b)/(a.*b)
```
a～b逆时针0～360角度就是：`pi+atan(tan<a,b>)`。

### 三角形顺逆判断公式

我在网上看到了一个公式:

平面上三个点:
p1(x1,y1) -->顶点 ,
p2(x2,y2) -->顶点 ,
p3(x3,y3) -->原点，

$$
s(p1,p2,p3)=(x1-x3)*(y2-y3)-(x2-x3)*(y1-y3)
$$


- 如果s>0 则说明 这连接这3个点时是按照逆时针的顺序
- 如果是s<0则说明连接这3个点是按照顺时针的顺序