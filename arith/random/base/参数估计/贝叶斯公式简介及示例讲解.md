# 贝叶斯公式简介及示例讲解

[![Clarence](https://pic1.zhimg.com/5a56813cac598bff30bebcb8ff8d3bae_xs.jpg?source=172ae18b)](https://www.zhihu.com/people/www.admin12345.com)

[Clarence](https://www.zhihu.com/people/www.admin12345.com)

10 人赞同了该文章

有时候，我们想要知道在给定事件B的基础上，计算事件A发生的概率，即 ![[公式]](https://www.zhihu.com/equation?tex=P%28A%7CB%29) 。但是，我们可能只能计算P(B|A)。这种问题经常出现在如下场景：在某些证据下，某个事件发生的可能性有多大，比如我们想知道一个人的血液检查结果为阳性，那么他得病的概率有多大？但是，我们只能知道在得病的条件下，血液检查结果呈阳性的概率为95%，即在给定事件下，知道证据发生的概率。

贝叶斯公式可以在知道P(B|A)的情况下，计算出P(A|B)，具体公式为 ![[公式]](https://www.zhihu.com/equation?tex=P%28A%7CB%29+%3D%5Cfrac%7BP%28B%7CA%29P%28A%29%7D%7BP%28B%29%7D) 。如上贝叶斯公式实现了概率反转，即由 ![[公式]](https://www.zhihu.com/equation?tex=P%28B%7CA%29) 得到 ![[公式]](https://www.zhihu.com/equation?tex=P%28A%7CB%29) 。

相关术语：

- P(A|B)称为后验概率(posterior),这是我们需要结合先验概率和证据计算之后才能知道的。
- P(B|A)称为似然(likelihood),在事件A发生的情况下，事件B(或evidence)的概率有多大
- P(A)称为先验概率(prior), 事件A发生的概率有多大
- P(B)称为证据(evidence)，即无论事件如何，事件B(或evidence)的可能性有多大

贝叶斯规则给出了一个规则，即将一些先验的信念(贝叶斯认为概率是对某种信念的度量)与观察到的数据结合起来，来更新信念，这个过程也称为“学习”。或者说，我们的信念随着获得的信息增多而发生改变。比如说，我们认为在年终的时候有50%的可能会得到升职；如果我们从老板那里得到了正面且积极的反馈，我们可能会上调这个概率值，反之会下调。随着我们获得信息的增多，我们不断调整我们的估计值，直到它接近真正的答案。

我们经常将其表述为在给定观测数据D的情况下，探究假设H，根据贝叶斯公式，有 ![[公式]](https://www.zhihu.com/equation?tex=P%28H%7CD%29+%3D+%5Cfrac%7BP%28D%7CH%29P%28H%29%7D%7BP%28D%29%7D) 。在这个表达式中，H和D为随机变量。

接下来看一下如何计算evidence，即P(D)。P(D)的计算可以理解为从联合分布P(H,D)求边缘分布P(D)。对于离散型随机变量，有 ![[公式]](https://www.zhihu.com/equation?tex=P%28D%29+%3D+%5Csum_iP%28D%7CH_i%29P%28H_i%29) ，对于连续型随机变量，有 ![[公式]](https://www.zhihu.com/equation?tex=P%28D%29+%3D+%5Cint_AP%28D%7CH%29P%28H%29dA) 。

对于简单的二元示例，只有两种结果，H可能为0或1，则根据贝叶斯公式，有 ![[公式]](https://www.zhihu.com/equation?tex=P%28H%3D1%7CD%29%3D%5Cfrac%7BP%28D%7CH%3D1%29P%28H%3D1%29%7D%7BP%28D%7CH%3D1%29P%28H%3D1%29%2BP%28D%7CH%3D0%29P%28H%3D0%29%7D)

下面通过一个例子来理解贝叶斯公式，例子来源于[这篇文章](https://link.zhihu.com/?target=https%3A//towardsdatascience.com/bayes-rule-applied-75965e4482ff)，你可以点击查看原文章。

下图展示的是在不同时间点，入睡的概率。比如在九点及以前，入睡的概率为0，在十点入睡的概率为27.34。



![img](https://pic1.zhimg.com/80/v2-fb017497274d02e346fe1e63214227f8_1440w.jpg)



现在只能根据时间来获得概率，如果我们知道更多信息，比如灯是否开着，那么得到的入睡的概率是否会发生变化？这就是我们使用贝叶斯公式来修正我们的估计的地方。对于某个特定的时间点，如果又知道了等开或关，那么就可以运用贝叶斯公式来计算这两个信息对应的概率。



![img](https://pic3.zhimg.com/80/v2-1660401bb70e1e55b0ad9598742d598e_1440w.jpg)



等式左边就是我们要计算的，在某个点在开灯或关灯的条件下，入睡的概率。在某个时间点入睡的概率，P(sleep)，已经由上面的图片给出，作为先验概率。比如，在十点入睡的概率为27.34。假设，在入睡的情况下，灯开着的概率为0.01，则有入睡的条件下，灯关闭(p(-light))的概率为0.99.



![img](https://pic2.zhimg.com/80/v2-fe877ad12150610a870c7aa99d75d8e9_1440w.jpg)



现在缺少的是 ![[公式]](https://www.zhihu.com/equation?tex=P%28light%29) 。它表示灯开着的概率。这个概率有两部分组成，即在入睡的情况下，灯开着的概率和未入睡的情况下，灯开着的概率。



![img](https://pic3.zhimg.com/80/v2-07d02489dc6ca90e81d03f8009d90fe6_1440w.jpg)



其中， ![[公式]](https://www.zhihu.com/equation?tex=P%28-sleep%29++%3D+1+-+P%28sleep%29)

假设未入睡的情况下，灯开着的概率为80%。



![img](https://pic2.zhimg.com/80/v2-0b5b69f236d3a061547c9d94fb183d55_1440w.jpg)



上面这个公式就表示了在灯开着的情况下，入睡的概率,如果想要计算在灯关闭的情况下的概率，则用P(-sleep)代替P(sleep)。

如果我们想要计算在十点半，灯开着的情况下，入睡的概率，则有以下等式：



![img](https://pic1.zhimg.com/80/v2-c2b210739c0c296577fe45976236699c_1440w.jpg)



知道灯是开着的，这使我们对入睡的概率估计从70%以上急剧下降到3.42%。通过这个例子，可以了解贝叶斯公式的作用与强大之处。

------

例题练习：

设某种病菌在人口中的带菌率为0.03，当检查时，由于技术及操作的不完善以及种种特殊原因，使带菌者未必能检出阳性反应，同样不带菌者也能呈现阳性反应。假定P(阳性｜带菌)=0.99，P(隐性｜带菌)=0.01，P(阳性｜不带菌)=0.05，P(隐性｜不带菌)=0.95

假设某人检出阳性，问他带菌的概率是多少？

![[公式]](https://www.zhihu.com/equation?tex=p%28%E5%B8%A6%E8%8F%8C%EF%BD%9C%E9%98%B3%E6%80%A7%29%3D+%5Cfrac%7Bp%28%E9%98%B3%E6%80%A7%EF%BD%9C%E5%B8%A6%E8%8F%8C%29p%28%E5%B8%A6%E8%8F%8C%29%7D%7Bp%28%E9%98%B3%E6%80%A7%29%7D+%3D++%5Cfrac%7Bp%28%E9%98%B3%E6%80%A7%EF%BD%9C%E5%B8%A6%E8%8F%8C%29p%28%E5%B8%A6%E8%8F%8C%29%7D%7Bp%28%E9%98%B3%E6%80%A7%EF%BD%9C%E5%B8%A6%E8%8F%8C%29p%28%E5%B8%A6%E8%8F%8C%29%2Bp%28%E9%98%B3%E6%80%A7%EF%BD%9C%E4%B8%8D%E5%B8%A6%E8%8F%8C%29p%28%E4%B8%8D%E5%B8%A6%E8%8F%8C%29%7D+%3D++%5Cfrac%7B0.99%2A0.03%7D%7B0.99%2A0.03%2B0.97%2A0.05%7D+%3D+0.380+)





### 参考资料

1、Medium. 2021. Bayes’ Rule Applied. [online] Available at: [https://towardsdatascience.com/bayes-rule-applied-75965e4482ff](https://link.zhihu.com/?target=https%3A//towardsdatascience.com/bayes-rule-applied-75965e4482ff) [Accessed 20 April 2021].

2、Chen, X., 2009.*Gai shuai lun yu shu li tong ji*. Hefei: Zhongguo ke xue ji shu da xue chu ban she, p.34.

编辑于 2021-09-23 22:03

[概率论与数理统计](https://www.zhihu.com/topic/19850960)

[统计学](https://www.zhihu.com/topic/19558740)

[概率论](https://www.zhihu.com/topic/19670916)