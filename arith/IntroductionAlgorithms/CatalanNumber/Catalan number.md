# Catalan number

## 组合数
### 帕斯卡三角形

| -   | -    | -    | -    |
| ---- | ---- | ---- | ---- |
| 1  C3,3  | 1 C2,2   | 1  C1,1  | 1 C0,0   |
| 4  C4,3  | 3 C3,2   | 2  C2,1  | 1  C1,0  |
| 10 C5,3  | 6  C4,2  | 3  C3,1  | 1  C2,0  |
| 20 C6,3  | 10 C5,2   | 4 C4,1   | 1 C3,0   |


- C4,2=6
- C6,3=20
- C8,4=70
- C2N,N

### 递推公式
$$
C_{n}^{n}=1
\\
C_{n}^{0}=1
\\
C_{n}^{m}= C_{n-1}^{m} + C_{n-1}^{m-1}
$$
### 通项公式

### 二项式公式

## Catalan number

卡特兰数的前几项为1,1,2,5,14,42,132,429,1430,4862,16796,58786,208012,742900,2674440,9694845,35357670,129644790…

### Catalan 堆栈

考虑 n个1，n个-1的排列，考虑序列的累加列，要求累加列都大于等于0才是合法排列。

对于n=2, C4,2=6：

- +1 +1 -1 -1 cumsum=(1,2,1,0) Y
- +1 -1 +1 -1 cumsum=(1,0,1,0) Y
- +1 -1 -1 +1 cumsum=(1,0,-1,0) X
- -1 -1 +1 +1 cumsum=(-1,-2,-1,0) X
- -1 +1 -1 +1 cumsum=(-1,0,-1,0) X
- -1 +1 +1 -1 cumsum=(-1,0,1,0) X

Y代表合法序列，X代表非法序列。

对于n=2，只有两个合法序列。

### Catalan 矩形

显然，Catalan 矩形与帕斯卡三角形有相似的结构。


| -   | -    | -    | -    |
| ---- | ---- | ---- | ---- |
| 0    | 0    | 0    | 1    |
| 0    | 0   | 1    | 1    |
| 0   | 2    | 2    | 1    |
| 5   | 5  | 3    | 1    |



### 递归定义
$$
f_n=f_0∗f_{n−1}+f_1∗f_{n−2}+…+f_{n−1}f_0\\
n≥2
$$

### 递推关系
$$
f_n=\frac{4n−2}{n+1}f_{n−1}
$$


### 通项公式
$$
f_n=\frac{1}{n+1}C_{2n}^n
$$

### 通项公式2
经化简后可得

$$
f_n=C_{2n}^n -C_{2n}^{n-1}\\
$$


## misc

```
C2k+1,k+1+m = 0
C2k,k+1+m=0
```