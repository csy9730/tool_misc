# IP core

## 逻辑设计
逻辑设计被RTL级“代表”了很多年，以至于对于设计人员而言，大家只用RTL级别的语言形式去描述逻辑设计

趋势是硬件开发软件化，使用软件的开发方法去开发硬件。

IC复杂的长链条并不会因为前端设计依靠抽象级别提高使得设计提速，就all in这样的设计手段。从设计层面而言，可以更高被高抽象级语言映射的设计，多见于算法IP。主要是其中的逻辑控制与算法模块分割清楚，容易剥离，而HLS（High Level Synthesis高抽象级综合）则可就这种结构更快地按照设计人员对速度、带宽、算力、面积等要求，做折衷式的综合。

作者：路桑
链接：https://www.zhihu.com/question/34368978/answer/757124354
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
### 行为级
行为级：
结构化过程语句：initial和always，通常借助一些（+）（-）等运算符；
左值必须是reg类型，右值无要求；
过程赋值语句。

### RTL
RTL，Register Transfer Level，直译为寄存器转换级，顾名思义，也就是在这个级别下，要描述各级寄存器（时序逻辑中的寄存器），以及寄存器之间的信号的是如何转换的（时序逻辑中的组合逻辑）。

通俗来讲，RTL代码不是在“写代码”，是在画电路结构。RTL代码需要“画”出输入输出端口，各级寄存器，寄存器之间的组合逻辑和前三者之间的连接。对于组合逻辑，只需要软件级描述，将其功能包装在“黑匣子”中即可，无需考虑其门级结构。

作者：猛男呜咽
链接：https://www.zhihu.com/question/357997056/answer/913483903
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

### 逻辑门级
使用逻辑门这一级别来描述，and、or，not……，
输出部分必须是net类型，门级原语本质是模块实例调用，符合端口连接规则。

RTL 中的寄存器和组合逻辑，直接反应了逻辑门直接的关系，更加接近底层，接近硬件，一般EDA工具可以把RTL描述自动编译为门级描述。所以一般不直接使用门级编程。

#### 晶体管级
逻辑设计再往电路/物理方向走是门级，晶体管级。估计除了DesignWare之类，高速datapath，或者混合信号芯片，没有人干这个了。


IP核有行为(Behavior)级、结构(Structure)级和物理(Physical)级三个层次的分类，对应着三个种类型的IP核，它们是由硬件描述语言设计的软核(Soft IP Core)、完成结构描述的固核(Firm IP Core)和基于物理描述并经过工艺验证的硬核(Hard IP Core)。

1. IP软核：它是用硬件描述语言(HDL)设计的独立功能的电路模块。从芯片设计程度来看，它只经过了RTL级设计优化和功能验证，通常是以HDL文本形式提交给用户。所以它不包含任何物理实现信息，因此，IP软核与制造工艺无关。用户购买了IP软核后，可以综合出正确的门电路级设计网表，并可以进行后续的结构设计，具有很大的灵活性。借助于EDA综合工具，用户可以很容易与其它IP软核，以及自主设计的电路部分合成一体，并根据各种不同半导体工艺，设计成具有不同性能的芯片。
2. IP固核：它的设计程度介于IP软核和IP硬核之间，它除了完成IP软核所有的设计外，还完成了门级电路综合和时序仿真等设计环节。一般地，它以门级电路网表的形式提供给用户。
3. IP硬核：它提供了电路设计最后阶段掩模级的电路模块。它以最终完成的布局布线网表形式提供给用户。IP硬核既具有结果的可预见性，也可以针对特定工艺或特定IP提供商进行功耗和尺寸的优化。

在电路模块设计的三个不同阶段，可以得到的不同类型的IP核，分别称为IP软核、IP固核和IP硬核。由软化到固化，再到硬化，IP核的可配置性和灵活性变小，但完善性提高，复用风险性降低。如果按大类分，大体上可分为处理器和微控制器类IP、存储器类IP、外设及接口类IP、模拟和混合电路类IP、通信类IP、图像和媒体类IP等。


全球大的EDA供应商中，有些也是IP供应商。例如美国新思科技(Synopsys)可提供上千种各类IP。涵盖逻辑电路(Logic Libraries)、嵌入式存储器(Embedded Memories)、模拟电路(Analog Libraries)、有线和无线通信接口(Wired and Wireless Interface)、安全(Security)、嵌入式处理器(Embedded Processors) 和子系统(Subsystems)等方面的IP。

同样将IP模块以建筑行业比喻的话，软核相当于楼房的设计图纸；固核相当于楼房的渲染效果图，可见楼房建成后的效果；硬核相当于大楼施工图，只要按图施工，就一定能成功。



二、集成电路IP产业的经营模式

1、集成电路IP相关企业分类

目前市场上集成电路IP相关企业可分为以下四大类：

1） 专业IP公司：企业专门研发IP，业务仅为IP授权，代表企业为ARM、CEVA等；

2） 系统芯片设计公司：IP产品主要供给内部使用，少量对外交易，代表企业为Freescale、TI、IBM等；

3） EDA软件公司：IP产品配套EDA工具产品对外销售，代表企业为Synopsys、Cadence等；

4） 集成电路制造代工企业：一般免费提供IP供客户使用，代表企业为TSMC、SMIC等；

2、集成电路IP企业收入类型分析

集成电路IP营收有三个类型来源，分别是证书费（License）、版权费（Royalty）和服务费（Service）。

License是芯片设计企业向IP供应商一次性缴纳的费用，以获取用于开发芯片产品的相应IP。期授权费的具体金额取决于所购授权技术的复杂程度，一次性付清，一般在100万美元到1000万美元之间。

Royalty是当芯片设计企业开发出产品并销售后，需要根据芯片销售额按一定比例(通常1%~3%之间)支付版税给IP厂商的费用。因为IP就是知识产权，需要有偿使用，此项属于长期性收费，可以平滑IP厂商的收入波动，还有利于提高客户的忠诚度。

最后的Service则是该IP后期维护升级而产生的费用。

从市场规模占比上看，Royalty和License是半导体知识产权使用费的两大主要组成部分，二者在IP市场的营收贡献占比之和超过90%。从全球 IP 龙头 ARM 公司的收入结构来看，约三分之二为版税收入，而许可收入仅占约三分之一。Service整体市场规模小，增速较慢。

#### 芯片设计
芯片设计分为前端设计和后端设计，前端设计（也称逻辑设计）和后端设计（也称物理设计）并没有统一严格的界限，涉及到与工艺有关的设计就是后端设计。

芯片设计大体分为以下步骤：前端设计和仿真——后端设计及验证——后仿真——signoff检查——数据交付代工厂(以gds的形式）。

随着集成电路设计与制造的发展逐渐细化，芯片验证贯穿在设计的每一个环节，可细分为系统级验证、硬件逻辑功能验证、混合信号验证、软件功能验证、物理层验证、时序验证等。目前芯片设计验证工具已经衍生出了很多类别。


