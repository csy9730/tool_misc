# 组件划分


组件（component）该如何划分？


按照复用级别
1. 基础组件，不包含业务，独立，具体功能的组件， 例如vue.js的页面。
2. 业务组件，不具有普遍的通用性，但在项目中会被复用。
3. final组件，不会被复用，不提供接口， 例如vue.js的文本输入框等控件。

实际开发中，基础组件的目标明确，容易划分。终端组件，交互较少，也容易划分。
只有业务组件，划分较为困难，并且根据使用频率，还可以划分出多个层级。

按照输入输出是否有副作用划分：
* 无状态组件
    * pure function
* ui组件/容器组件
    * 输入控件
    * 输出控件
    * 输入输出控件

业务组件可以通过UI组件和无状态组件组成。这里的无状态组件可以给个定义：只接受props，根据不同的props展现出不同的样式，并且会抛出事件来通知外部组件需要的更改。

vue的ui库： Element，iView，vuex。

一个组件只做一件事，基于功能做好职责划分。
越小的单元，state就越需要单一
不要在UI组件和无状态组件中进行数据的请求，应该将之放入容器组件中
单向原则，子组件不应该影响父组件





架构设计:
如何设计架构？

先把所有功能需求罗列出来，抽象出必须的组件，在把多个组件归类成层layer，再根据优先级/需要排序出主要流程，划分出结构形式。
arch -》 layer -》 component。


接口文档：

class接口
函数接口

函数集接口（dll/模块 接口）
命令行接口（exe接口）
url接口（网站接口）


data /属性/状态/关系

表达方式： 图，文档，代码

避免滥用文档，尽可能最小
保持文档和代码的联系，保持同步。

时刻保持建模和代码实现之间的紧密结合

ubiquitous


dry-run & true-run
同义词
n.
rehearsal,run-through,dummy run,trial run,trial

MVC 对应 领域-界面-应用，还有隐藏的 基础设施层，提供service
MVC模式和smart ui模式相对立。一个侧重于分离mvc，一个侧重于糅合mvc。mvc适合于复杂大型应用。smartui适合小型快速应用。

关系数据库，业务规则

框架，选择，要仔细选择，考虑 复杂度（ 颗粒度/侵入性），成员是否易于学习，便利性。

entity & value object & service
entity ：flexible object


specification  支持布尔连接词：and/or/not
设计 无副作用 函数，通过 new Value Object 替换原有的Value Object的方法实现，并且读写分离。
```
Painter pa, pb;
mixPainter mp;
mp.add(pa);
mp.add(pb);
```