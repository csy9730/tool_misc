# ping help

```
C:\Users\admin>ping /?

用法: ping [-t] [-a] [-n count] [-l size] [-f] [-i TTL] [-v TOS]
            [-r count] [-s count] [[-j host-list] | [-k host-list]]
            [-w timeout] [-R] [-S srcaddr] [-c compartment] [-p]
            [-4] [-6] target_name

选项:
    -t             Ping 指定的主机，直到停止。
                   若要查看统计信息并继续操作，请键入 Ctrl+Break；
                   若要停止，请键入 Ctrl+C。
    -a             将地址解析为主机名。
    -n count       要发送的回显请求数。
    -l size        发送缓冲区大小。
    -f             在数据包中设置“不分段”标记(仅适用于 IPv4)。
    -i TTL         生存时间。
    -v TOS         服务类型(仅适用于 IPv4。该设置已被弃用，
                   对 IP 标头中的服务类型字段没有任何
                   影响)。
    -r count       记录计数跃点的路由(仅适用于 IPv4)。
    -s count       计数跃点的时间戳(仅适用于 IPv4)。
    -j host-list   与主机列表一起使用的松散源路由(仅适用于 IPv4)。
    -k host-list    与主机列表一起使用的严格源路由(仅适用于 IPv4)。
    -w timeout     等待每次回复的超时时间(毫秒)。
    -R             同样使用路由标头测试反向路由(仅适用于 IPv6)。
                   根据 RFC 5095，已弃用此路由标头。
                   如果使用此标头，某些系统可能丢弃
                   回显请求。
    -S srcaddr     要使用的源地址。
    -c compartment 路由隔离舱标识符。
    -p             Ping Hyper-V 网络虚拟化提供程序地址。
    -4             强制使用 IPv4。
    -6             强制使用 IPv6。
```
### -a
ping -a 的使用
ping-a 解析计算机名与 NetBios 名。就是可以通过 ping 它的 ip 地址，可以解析出主机名。
### -n
ping -n 的使用
在默认情况下，一般都只发送四个数据包，通过这个命令可以自己定义发送的个数，对衡量网络速度很有帮助，比如我想测试发送 10 个数据包的返回的平均时间为多少，最快时间为多少，最慢时间为多少就可以通过以下获知：
### -l
ping -l size 的使用
-l size：发送 size 指定大小的到目标主机的数据包。

在默认的情况下 Windows 的 ping 发送的数据包大小为 32byt，最大能发送 65500byt。当一次发送的数据包大于或等于 65500byt 时，将可能导致接收方计算机宕机。所以微软限制了这一数值；这个参数配合其它参数以后危害非常强大，比如攻击者可以结合 - t 参数实施 DOS 攻击。（所以它具有危险性，不要轻易向别人计算机使用）。

例如：ping -l 65500 -t 211.84.7.46

会连续对 IP 地址执行 ping 命令，直到被用户以 Ctrl+C 中断.
### ping -r
ping -r count 的使用
在 “记录路由” 字段中记录传出和返回数据包的路由，探测经过的

路由个数，但最多只能跟踪到 9 个路由。

ping -n 1 -r 9 202.102.224.25 （发送一个数据包，最多记录 9 个路由）


### 批量 Ping 网段
对于一个网段 ip 地址众多，如果单个检测实在麻烦，那么我们可以直接批量 ping 网段检测，那个 ip 地址出了问题，一目了然。

先看代码，直接在命令行窗口输入：

`for /L %D in (1,1,255) do ping 10.168.1.%D`