# 网卡配置

## 网卡
设备包括

* NPcap Loopback Adapter	虚拟环回网卡
* WLAN 			无线USB网卡
* 以太网网卡 Realtek
* HyperV virtual ethernet Adapter
* Vmware virtual ethernet Adapter


##### microsoft loopback adapter
microsoft loopback adapter就是安装在本机上的一块虚拟网卡，它跟本机上的其它物理网卡、和物理网卡连接的网络是没有关系的，你可以理解成这块网卡上的网线接到了另外一个空白网络。

它的作用仅仅是用来给那些需要本机配置有网络的服务程序调试用，它不能与实体网络进行通信。

举个最简单的例子，你的电脑没有网卡，想给本机安装WINDOWS的DNS服务试着玩，但DNS服务在启动时若检测到本机没有网络会报错停止，这时你安装块loopback adapter网卡就有用了。

## 虚拟机网卡连接


VMware支持三种类型的网络：NAT，Bridged，Host-only。

### NAT

NAT：Network Address Translation，网络地址转换

NAT模式是最简单的实现虚拟机上网的方式，你可以这样理解：

Guest访问网络的所有数据都是由主机提供的，Guest并不真实存在于网络中，主机与网络中的任何机器都不能查看和访问到Guest的存在。

Guest可以访问主机能访问到的所有网络，但是对于主机以及主机网络上的其他机器，Guest又是不可见的，甚至主机也访问不到Guest。

虚拟机与主机的关系：只能单向访问，虚拟机可以通过网络访问到主机，主机无法通过网络访问到虚拟机。

虚拟机与网络中其他主机的关系：只能单向访问，虚拟机可以访问到网络中其他主机，其他主机不能通过网络访问到虚拟机。

虚拟机与虚拟机的关系：相互不能访问，虚拟机与虚拟机各自完全独立，相互间无法通过网络访问彼此。
### Bridged
Bridged Adapter（网桥模式）

网桥模式，你可以这样理解：

它是通过主机网卡，架设了一条桥，直接连入到网络中了。因此，它使得虚拟机能被分配到一个网络中独立的IP，所有网络功能完全和在网络中的真实机器一样。

网桥模式下的虚拟机，你把它认为是真实计算机就行了。

虚拟机与主机的关系：可以相互访问，因为虚拟机在真实网络段中有独立IP，主机与虚拟机处于同一网络段中，彼此可以通过各自IP相互访问。

虚拟机于网络中其他主机的关系：可以相互访问，同样因为虚拟机在真实网络段中有独立IP，虚拟机与所有网络其他主机处于同一网络段中，彼此可以通过各自IP相互访问。

虚拟机与虚拟机的关系：可以相互访问，原因同上。
### Internal
3、Internal（内网模式）

内网模式，顾名思义就是内部网络模式：

虚拟机与外网完全断开，只实现虚拟机于虚拟机之间的内部网络模式。

虚拟机与主机的关系：不能相互访问，彼此不属于同一个网络，无法相互访问。

虚拟机与网络中其他主机的关系：不能相互访问，理由同上。

虚拟机与虚拟机的关系：可以相互访问，前提是在设置网络时，两台虚拟机设置同一网络名称。如上配置图中，名称为intnet。

该模式可以提供网络隔离，有些安全测试 需要不同的网络环境。

### Host-only Adapter
Host-only Adapter（主机模式）

主机模式，这是一种比较复杂的模式，需要有比较扎实的网络基础知识才能玩转。可以说前面几种模式所实现的功能，在这种模式下，通过虚拟机及网卡的设置都可以被实现。

我们可以理解为Guest在主机中模拟出一张专供虚拟机使用的网卡，所有虚拟机都是连接到该网卡上的，我们可以通过设置这张网卡来实现上网及其他很多功能，比如（网卡共享、网卡桥接等）。

虚拟机与主机的关系：默认不能相互访问，双方不属于同一IP段，host-only网卡默认IP段为192.168.56.X 子网掩码为255.255.255.0，后面的虚拟机被分配到的也都是这个网段。通过网卡共享、网卡桥接等，可以实现虚拟机于主机相互访问。

虚拟机与网络主机的关系：默认不能相互访问，原因同上，通过设置，可以实现相互访问。

虚拟机与虚拟机的关系：默认可以相互访问，都是同处于一个网段。

### HyperV
Hyper-V 支持三种网络类型： 外部，内部，专用。

* Hyper-V专用网络，如其名一样，虚拟机专用，数据的通信只能在虚拟机之间进行，虚拟机与宿主机以及物理网络之间是不能通信的。
* Hyper-V的内部网络类型，只允许虚拟机与虚拟机之间，虚拟机与运行Hyper-v的主机之间进行网络通信，而不允许虚拟机与物理网络进行通信。
* Hyper-V的外部网络类型，允许虚拟机与虚拟机之间，虚拟机与运行Hyper-v的主机之间，虚机与物理网络，他们互相网络通信。

Hyper-V专用网络 和Internal模式类似。



[161210210454531](http://www.linuxidc.com/upload/2016_12/161210210454531.png)